{$.ajaxSetup({async:!1});const e=(e,t=!1)=>(e=e.trim(),t?[...document.querySelectorAll(e)]:document.querySelector(e)),t=(e,t)=>{for(;e.parentElement;){if(e.parentElement.matches(t))return e.parentElement;e=e.parentElement}if(e.classList.contains(t))return e};let n,o,i,s,a="",l=0;const c=e(".learnNow"),r=e(".logoVideo"),d=e(".resultWrap"),u=e(".searchResult"),p=e("#search_lessons"),m=e("#lessonList"),f=e("#famousBrand"),g=e(".preLoadBlock"),y=document.createElement("script"),h=e(".presentationArea"),v=e(".overlayContent"),L=e("#videoForwarding"),w=e(".dropdown .caption"),T=e(".captionWrap .dropdown"),b=e(".dropdown .caption_title"),k=e(".list > .optgroup > .option",!0),S=e("#preloader");function windowSize(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function setSizeVideoPlayer(){var e=windowSize(),t=`${Math.floor(77*e.width/100*85/100)}`;h.setAttribute("style",`--width:${t}px;`)}function onYouTubeIframeAPIReady(){n=new YT.Player("player",{playerVars:{m:0,fs:0,rel:0,loop:1,index:0,controls:1,showinfo:0,autohide:0,autoplay:0,disablekb:1,enablejsapi:1,playsinline:1,startSeconds:0,modestbranding:1,cc_load_policy:0,iv_load_policy:3,suggestedQuality:"auto"},events:{onReady:onPlayerReady}})}function onPlayerReady(e,t="PL_-VfJajZj0U1MSx1IMu13oLJq2nM97ac"){t?n.cuePlaylist({list:t,listType:"playlist"}):n.cueVideoById("DpvYHLUiZpc"),n.setShuffle(!1),n.setLoop(!0),n.getIframe().width="100%",n.getIframe().height="100%",n.addEventListener("onStateChange","onPlayerStateChange"),n.seekTo(0,!0),showTime()}S&&window.addEventListener("load",()=>{S.remove()}),new Swiper(".recommend_slider",{slidesPerView:4,spaceBetween:15,centeredSlides:!1,speed:5500,loop:!0,autoplay:{delay:1500,disableOnInteraction:!1}}),document.onreadystatechange=(()=>{var t=e("body").clientWidth;h.setAttribute("style",`--width:${Math.floor(77*t/100*85/100)}px`)}),window.addEventListener("resize",setSizeVideoPlayer),function(){y.src="https://www.youtube.com/iframe_api";let e=$("script")[0];e.parentNode.insertBefore(y,e)}(),w.onclick=function(e){T.classList.toggle("toggle"),n.stopVideo()};let V,_,A=!1;function onPlayerStateChange(o){const d=e(".sidebar_tracks");let u=n.videoTitle;s=o.target.getVideoData().video_id;l=n.getPlayerState(),[1,2,5].indexOf(l)>=0&&(function(t){var n=e("#currentVideoTitle");t&&(n.innerText=t)}(u),1===l&&(t=>{let n=e(".lesson",!0);n&&n.map(function(e,n){if(e.classList.remove("active"),e.id===t)return e.classList.add("active"),void e.scrollIntoView({behavior:"smooth",block:"center"})})})(s)),n.addEventListener("enterfullscreen",function(){}),i=n.getPlaylist(),d.onclick=function(e){let n=t(e.target,".lesson");e.target.id?specifiedVideo(e.target.id):n&&specifiedVideo(n.id)};function p(){switch(l){case 5:return!0,V(),void n.seekTo(0);case 1:return void n.pauseVideo();case 2:return void V()}}clearTimeout(h),clearTimeout(w),k.map(function(e){e.onclick=function(t){T.classList.toggle("toggle"),b.innerHTML=e.innerText;let n=t.target.getAttribute("data-list");n&&function(e){window.onYouTubeIframeAPIReady=onYouTubeIframeAPIReady,onPlayerReady("",e)}(n)}});let y=n.getPlayerState();if(i&&5===y&&!A){A=!0,g.setAttribute("style","display: block !important;");var h=setTimeout(()=>{(function(e){n.cuePlaylist({list:e}),e&&(m.innerHTML="<p></p>",e.map((e,t)=>(function(e,t,n){return $.getJSON("https://noembed.com/embed",{url:e,format:"json"}).then(function(e){!function(e,t,n){let o=document.createElement("div");o.id=`${t}`,o.className="lesson",o.innerHTML=`\n<div class="lessonContent">\n <img class="icon_left" src="./assets/img/Small_icon/playVideo.svg" alt="left">\n <div class="lessonInfo">\n <h4 class="lessonTitle"> ${n+1} ðŸ’” ${e.title}</h4>\n <span class="lesson_duration"> 03:00 </span>\n </div>\n</div>\n<div class="icon_right">\n <img class="lesson_bookmark" src="./assets/img/Small_icon/bookmark.svg" alt="bookmark">\n <img class="lesson_checked" src="./assets/img/Small_icon/checked.svg" alt="lesson checked">\n</div>`,m.lastChild.after(o)}(e,t,n)})})(a="https://www.youtube.com/watch?v="+e,e,t)))})(i=n.getPlaylist()),A=!1},500),w=setTimeout(()=>{g.setAttribute("style","display: none !important;")},2e3)}const S=(t,n)=>{let o=e(".lesson",!0),i="";return o&&o.map(function(e,s){var a=s+t;if(a<0?a=o.length-1:a>=o.length&&(a=0),e.id===n)return i=o[a]}),i.id};function V(){n.playVideo()}function _(e,t,n){for(let o=e;o<t;o++){let e=n[o].id,t=document.createElement("div");t.dataset.id=`${e}`,t.className="swiper-slide",t.innerHTML=`\n <div class="Slideshow_wrap">\n<div\n class="Slideshow recommended"\n style="\n background-image: url('https://img.youtube.com/vi/${e}/mqdefault.jpg');\n ">\n <span> Xem Ngay! </span>\n</div>\n </div>`,L.lastChild.after(t)}}1!==(l=n.getPlayerState())&&5!==l||function(t,n,o){let i=e(".lesson",!0),s=t,a=n,l=i.length;if(i){let e=o||i[0].id;i.map(function(t,n){t.id===e&&(l>=5?(L.innerHTML="<p></p>",2<=n&&n<l-2?(s=n-2,a=n+3):n>=l-2&&(s=l-5,a=l),_(s,a,i)):(L.innerHTML="<p></p>",_(s=0,a=l,i)))})}}(0,5,s),L.onclick=function(n){if(n.stopPropagation(),e("[data-id]",!0)){let e=t(n.target,".swiper-slide").getAttribute("data-id");e&&specifiedVideo(e)}},function(e){switch(e){case-1:c.classList.remove("dpn"),v.classList.add("dpn"),r.setAttribute("style","animation: ");break;case 1:clearTimeout(w),c.classList.add("dpn"),f.classList.add("toggle"),v.classList.add("dpn"),r.setAttribute("style","animation: fade_left 2s linear 5s forwards; ");break;case 2:c.classList.add("dpn"),v.classList.remove("dpn");break;case 3:c.classList.add("dpn"),v.classList.add("dpn");break;case 5:c.classList.remove("dpn"),f.classList.remove("toggle"),v.classList.remove("dpn")}}(l),c.onclick=(()=>{clearTimeout(w),specifiedVideo(s)}),f.onclick=(()=>p()),e("#stopVideo").onclick=(()=>void n.stopVideo()),e("#nextVideo").onclick=(()=>(function(){s=n.getVideoData().video_id;let e=S(1,s);e&&(n.loadVideoById(e),n.seekTo(0,!0))})()),e("#preVideo").onclick=(()=>(function(){s=n.getVideoData().video_id;let e=S(-1,s);e&&(n.loadVideoById(e),n.seekTo(0,!0))})()),e("#logoVideo").onclick=(()=>specifiedVideo("1T0vfGh_0-4"))}function specifiedVideo(e){n.loadVideoById(e),n.seekTo(0,!0)}function showTime(){let e=document.querySelector(".cur_hh"),t=document.querySelector(".cur_mm"),o=document.querySelector(".cur_ss");setInterval(()=>{var i=Math.floor(n.getCurrentTime()),s=`${i%60}`,a=`${Math.floor(i/60)%60}`,l=`${Math.floor(i/60/60)%24}`;s<10?o.innerText=`0${s}`:10<s&&s<60&&(o.innerText=`${s}`),a<10?t.innerText=`0${a}:`:10<a&&a<60&&(t.innerText=`${a}:`),l<10?e.innerText=`0${l}:`:10<l&&l<24&&(e.innerText=`${l}:`)},1e3)}p.oninput=function(){o=e(".lesson",!0),(V=p.value.toLowerCase())&&null!=V?(_="",u.innerHTML="",d.setAttribute("style","display:block;"),o.map(function(e){let t=e.innerText.toLowerCase();t.includes(V)&&(_+=`<p data-id="${e.id}">${t}</p>`)})):(_="",d.setAttribute("style","display:none;")),u.innerHTML=_||'<p style="color:red; font-size: 18px;">Ráº¥t tiáº¿c, khÃ´ng tÃ¬m tháº¥y ná»™i dung báº¡n chá»‰ Ä‘á»‹nh!</p>'},u.onclick=function(e){if(e.stopPropagation(),e.target.getAttribute("data-id")){p.value="",specifiedVideo(e.target.getAttribute("data-id")),d.setAttribute("style","display:none;")}},d.onclick=(()=>{p.value="",d.setAttribute("style","display:none;")});const P=function(n,o,i,s,a){let l,c,r,d=[];if(Array.isArray(s))s.map(function(s){let u=t(n,s);u&&u.matches(s)&&(d=[...d,...e(s,!0)],c=(r=u).querySelector(i),l=document.querySelectorAll(i),c&&a&&"function"==typeof a?c.classList.add(o):c&&c.classList.toggle(o))});else{let u=t(n,s);u&&u.matches(s)&&(d=[...d,...e(s,!0)],c=(r=u).querySelector(i),l=document.querySelectorAll(i),c&&a&&"function"==typeof a?c.classList.add(o):c&&c.classList.toggle(o))}!l||a&&"function"==typeof a?l&&a(l,o,r):l.forEach(function(e){e.classList.contains(o)&&!r.contains(e)&&e.classList.toggle(o)})},x=function(e,t,n){e&&e.forEach(function(e){e.classList.contains(t)&&!n.contains(e)&&(e.contains(n)||e.classList.remove(t))})},I=function(e,n){let o;o=e.matches(".open")?e:t(e,".open"),Array.isArray(n)?n.map(function(t){e.matches(t)&&setTimeout(()=>{o.classList.remove("open")},0)}):setTimeout(()=>{o.classList.remove("open")},0)};let E;const M=e(".header");M.onclick=(t=>{let n=t.target;n.matches(".header_wrap")&&e(".open")&&e(".open").classList.remove("open"),P(n,"open",[".dropDownWrap"],[".actionTooltip",".selectNote",".rotateCrownWrap"]),I(n,[".noteClose",".myNoteWrap"]),R(n),E=M.querySelector(".open")});const R=function(n){(t(n,".flashcardQR")||n.matches(".flashcardQR"))&&e(".dialogQR").classList.add("open"),(n.matches(".closeQR")||n.matches(".open"))&&(e(".open").classList.remove("open"),e(".dialogQR").classList.remove("open"))};e(".myNotes").onclick=function(t){e(".open")&&e(".open").classList.remove("open"),P(t.target,"open",".myNoteWrap",".myNotes",x)};const q=function(n,o){let i;if(i=n.classList.contains("changeTheme")?n:t(n,o)){e("html").classList.toggle("dark"),e(".darkFace").classList.toggle("dpf"),e(".lightFace").classList.toggle("dpn")}};e(".displaySelection").onclick=function(e){let t=e.target;q(t,".changeTheme")},document.addEventListener("mousedown",function(e){let t=e.target;T.contains(t)||T.classList.remove("toggle"),E&&!M.contains(t)&&E.classList.remove("open")})}