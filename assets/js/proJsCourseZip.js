{$.ajaxSetup({async:!1});const e=(e,t=!1)=>(e=e.trim(),t?[...document.querySelectorAll(e)]:document.querySelector(e)),t=(e,t)=>{if(e.classList.contains(t))return e;for(;e.parentElement;){if(e.parentElement.matches(t))return e.parentElement;e=e.parentElement}return e.classList.contains(t)};let n,i,o,s,a="",l=0;const d=e(".learnNow"),c=e(".logoVideo"),r=e(".resultWrap"),u=e(".searchResult"),p=e("#search_lessons"),m=e("#lessonList"),f=e("#famousBrand"),g=e(".preLoadBlock"),y=document.createElement("script"),h=e(".presentationArea"),v=e(".overlayContent"),w=e("#videoForwarding"),L=e(".dropdown  .caption"),b=e(".captionWrap .dropdown"),T=e(".dropdown  .caption_title"),k=e(".list > .optgroup > .option",!0),V=e("#preloader");function windowSize(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function setSizeVideoPlayer(){var e=windowSize(),t=`${Math.floor(77*e.width/100*85/100)}`;h.setAttribute("style",`--width:${t}px;`)}function onYouTubeIframeAPIReady(){n=new YT.Player("player",{playerVars:{m:0,fs:0,rel:0,loop:1,index:0,controls:1,showinfo:0,autohide:0,autoplay:0,disablekb:1,enablejsapi:1,playsinline:1,startSeconds:0,modestbranding:1,cc_load_policy:0,iv_load_policy:3,suggestedQuality:"auto"},events:{onReady:onPlayerReady}})}function onPlayerReady(e,t="PL_-VfJajZj0U1MSx1IMu13oLJq2nM97ac"){t?n.cuePlaylist({list:t,listType:"playlist"}):n.cueVideoById("DpvYHLUiZpc"),n.setShuffle(!1),n.setLoop(!0),n.getIframe().width="100%",n.getIframe().height="100%",n.addEventListener("onStateChange","onPlayerStateChange"),n.seekTo(0,!0),showTime()}V&&window.addEventListener("load",()=>{V.remove()}),new Swiper(".recommend_slider",{slidesPerView:4,spaceBetween:15,centeredSlides:!1,speed:5500,loop:!0,autoplay:{delay:1500,disableOnInteraction:!1}}),document.onreadystatechange=(()=>{var t=e("body").clientWidth;h.setAttribute("style",`--width:${Math.floor(77*t/100*85/100)}px`)}),window.addEventListener("resize",setSizeVideoPlayer),function(){y.src="https://www.youtube.com/iframe_api";let e=$("script")[0];e.parentNode.insertBefore(y,e)}(),L.onclick=function(e){b.classList.toggle("toggle"),n.stopVideo()};let S,_,P=!1;function onPlayerStateChange(i){const r=e(".sidebar_tracks");let u=n.videoTitle;s=i.target.getVideoData().video_id;l=n.getPlayerState(),[1,2,5].indexOf(l)>=0&&(function(t){var n=e("#currentVideoTitle");t&&(n.innerText=t)}(u),1===l&&(t=>{let n=e(".lesson",!0);n&&n.map(function(e,n){if(e.classList.remove("active"),e.id===t)return e.classList.add("active"),void e.scrollIntoView({behavior:"smooth",block:"center"})})})(s)),n.addEventListener("enterfullscreen",function(){}),o=n.getPlaylist(),r.onclick=function(e){let n=t(e.target,".lesson");e.target.id?specifiedVideo(e.target.id):n&&specifiedVideo(n.id)};function p(){switch(l){case 5:return!0,S(),void n.seekTo(0);case 1:return void n.pauseVideo();case 2:return void S()}}clearTimeout(h),clearTimeout(L),k.map(function(e){e.onclick=function(t){b.classList.toggle("toggle"),T.innerHTML=e.innerText;let n=t.target.getAttribute("data-list");n&&function(e){window.onYouTubeIframeAPIReady=onYouTubeIframeAPIReady,onPlayerReady("",e)}(n)}});let y=n.getPlayerState();if(o&&5===y&&!P){P=!0,g.setAttribute("style","display: block !important;");var h=setTimeout(()=>{(function(e){n.cuePlaylist({list:e}),e&&(m.innerHTML="<p></p>",e.map((e,t)=>(function(e,t,n){return $.getJSON("https://noembed.com/embed",{url:e,format:"json"}).then(function(e){!function(e,t,n){let i=document.createElement("div");i.id=`${t}`,i.className="lesson",i.innerHTML=`\n<div class="lessonContent">\n<img class="icon_left" src="./assets/img/Small_icon/playVideo.svg" alt="left">\n<div class="lessonInfo">\n  <h4 class="lessonTitle"> ${n+1} ðŸ’” ${e.title}</h4>\n  <span class="lesson_duration"> 03:00 </span>\n</div>\n</div>\n<div class="icon_right">\n<img class="lesson_bookmark" src="./assets/img/Small_icon/bookmark.svg" alt="bookmark">\n<img class="lesson_checked" src="./assets/img/Small_icon/checked.svg" alt="lesson checked">\n</div>`,m.lastChild.after(i)}(e,t,n)})})(a="https://www.youtube.com/watch?v="+e,e,t)))})(o=n.getPlaylist()),P=!1},500),L=setTimeout(()=>{g.setAttribute("style","display: none !important;")},2e3)}const V=(t,n)=>{let i=e(".lesson",!0),o="";return i&&i.map(function(e,s){var a=s+t;if(a<0?a=i.length-1:a>=i.length&&(a=0),e.id===n)return o=i[a]}),o.id};function S(){n.playVideo()}function _(e,t,n){for(let i=e;i<t;i++){let e=n[i].id,t=document.createElement("div");t.dataset.id=`${e}`,t.className="swiper-slide",t.innerHTML=`\n<div class="Slideshow_wrap">\n<div\n  class="Slideshow recommended"\n  style="\n background-image: url('https://img.youtube.com/vi/${e}/mqdefault.jpg');\n  ">\n  <span> Xem Ngay! </span>\n</div>\n</div>`,w.lastChild.after(t)}}1!==(l=n.getPlayerState())&&5!==l||function(t,n,i){let o=e(".lesson",!0),s=t,a=n,l=o.length;if(o){let e=i||o[0].id;o.map(function(t,n){t.id===e&&(l>=5?(w.innerHTML="<p></p>",2<=n&&n<l-2?(s=n-2,a=n+3):n>=l-2&&(s=l-5,a=l),_(s,a,o)):(w.innerHTML="<p></p>",_(s=0,a=l,o)))})}}(0,5,s),w.onclick=function(n){if(n.stopPropagation(),e("[data-id]",!0)){let e=t(n.target,".swiper-slide").getAttribute("data-id");e&&specifiedVideo(e)}},function(e){switch(e){case-1:d.classList.remove("dpn"),v.classList.add("dpn"),c.setAttribute("style","animation:  ");break;case 1:clearTimeout(L),d.classList.add("dpn"),f.classList.add("toggle"),v.classList.add("dpn"),c.setAttribute("style","animation: fade_left 2s linear 5s forwards; ");break;case 2:d.classList.add("dpn"),v.classList.remove("dpn");break;case 3:d.classList.add("dpn"),v.classList.add("dpn");break;case 5:d.classList.remove("dpn"),f.classList.remove("toggle"),v.classList.remove("dpn")}}(l),d.onclick=(()=>{clearTimeout(L),specifiedVideo(s)}),f.onclick=(()=>p()),e("#stopVideo").onclick=(()=>void n.stopVideo()),e("#nextVideo").onclick=(()=>(function(){s=n.getVideoData().video_id;let e=V(1,s);e&&(n.loadVideoById(e),n.seekTo(0,!0))})()),e("#preVideo").onclick=(()=>(function(){s=n.getVideoData().video_id;let e=V(-1,s);e&&(n.loadVideoById(e),n.seekTo(0,!0))})()),e("#logoVideo").onclick=(()=>specifiedVideo("1T0vfGh_0-4"))}function specifiedVideo(e){n.loadVideoById(e),n.seekTo(0,!0)}function showTime(){let e=document.querySelector(".cur_hh"),t=document.querySelector(".cur_mm"),i=document.querySelector(".cur_ss");setInterval(()=>{var o=Math.floor(n.getCurrentTime()),s=`${o%60}`,a=`${Math.floor(o/60)%60}`,l=`${Math.floor(o/60/60)%24}`;s<10?i.innerText=`0${s}`:10<s&&s<60&&(i.innerText=`${s}`),a<10?t.innerText=`0${a}:`:10<a&&a<60&&(t.innerText=`${a}:`),l<10?e.innerText=`0${l}:`:10<l&&l<24&&(e.innerText=`${l}:`)},1e3)}p.oninput=function(){i=e(".lesson",!0),(S=p.value.toLowerCase())&&null!=S?(_="",u.innerHTML="",r.setAttribute("style","display:block;"),i.map(function(e){let t=e.innerText.toLowerCase();t.includes(S)&&(_+=`<p data-id="${e.id}">${t}</p>`)})):(_="",r.setAttribute("style","display:none;")),u.innerHTML=_||'<p style="color:red; font-size: 18px;">Ráº¥t tiáº¿c, khÃ´ng tÃ¬m tháº¥y ná»™i dung báº¡n chá»‰ Ä‘á»‹nh!</p>'},u.onclick=function(e){if(e.stopPropagation(),e.target.getAttribute("data-id")){p.value="",specifiedVideo(e.target.getAttribute("data-id")),r.setAttribute("style","display:none;")}},r.onclick=(()=>{p.value="",r.setAttribute("style","display:none;")});const A=function(n,i,o){let s=e(i,!0),a=t(n,i);a&&a.matches(i)&&a.classList.add("open"),s.map(function(e){e.contains(n)||e.classList.remove("open")})},x=function(e,n){let i=t(e,".open");n.map(function(t){e.matches(t)&&setTimeout(()=>{i.classList.remove("open")},0)})},I=function(n){(t(n,".flashcardQR")||n.matches(".flashcardQR"))&&(e(".dialogQR").classList.add("open"),e(".flashcards.open").classList.remove("open")),(n.matches(".closeQR")||n.matches(".open"))&&e(".dialogQR").classList.remove("open")};document.addEventListener("mousedown",function(e){let t=e.target;A(t,".selectNote"),A(t,".actionTooltip"),x(t,[".myNoteWrap",".noteClose"]),I(t),b.contains(t)||b.classList.remove("toggle")})}